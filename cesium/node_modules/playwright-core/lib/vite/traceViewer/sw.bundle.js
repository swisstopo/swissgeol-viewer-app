var Rn=Object.defineProperty;var An=(U,i,l)=>i in U?Rn(U,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):U[i]=l;var J=(U,i,l)=>(An(U,typeof i!="symbol"?i+"":i,l),l);function Tn(U,i){const l=new Array(i.length).fill(0);return new Array(i.length).fill(0).map((b,g)=>(E,L)=>{l[g]=E/L*i[g]*1e3,U(l.reduce((O,q)=>O+q,0),1e3)})}class Un{constructor(i,l,b){J(this,"_snapshots");J(this,"_index");J(this,"snapshotName");J(this,"_resources");J(this,"_snapshot");J(this,"_callId");this._resources=i,this._snapshots=l,this._index=b,this._snapshot=l[b],this._callId=l[b].callId,this.snapshotName=l[b].snapshotName}snapshot(){return this._snapshots[this._index]}viewport(){return this._snapshots[this._index].viewport}render(){const i=(E,L,O,q)=>{if(typeof E=="string"){const $=In(E);return O==="STYLE"||O==="style"?Ln($):$}if(!E._string)if(Array.isArray(E[0])){const $=L-E[0][0];if($>=0&&$<=L){const D=zn(this._snapshots[$]),C=E[0][1];C>=0&&C<D.length&&(E._string=i(D[C],$,O,q))}}else if(typeof E[0]=="string"){const $=[];$.push("<",E[0]);const D=Object.entries(E[1]||{}),C="__playwright_current_src__",H=E[0]==="IFRAME"||E[0]==="FRAME",V=E[0]==="A",Q=E[0]==="IMG",Y=Q&&D.some(tt=>tt[0]===C),rt=E[0]==="SOURCE"&&O==="PICTURE"&&(q==null?void 0:q.some(tt=>tt[0]===C));for(const[tt,ct]of D){let _t=tt;H&&tt.toLowerCase()==="src"&&(_t="__playwright_src__"),Q&&tt===C&&(_t="src"),["src","srcset"].includes(tt.toLowerCase())&&(Y||rt)&&(_t="_"+_t);let kt=ct;V&&tt.toLowerCase()==="href"?kt="link://"+ct:(tt.toLowerCase()==="href"||tt.toLowerCase()==="src"||tt===C)&&(kt=Jt(ct)),$.push(" ",_t,'="',Cn(kt),'"')}$.push(">");for(let tt=2;tt<E.length;tt++)$.push(i(E[tt],L,E[0],D));En.has(E[0])||$.push("</",E[0],">"),E._string=$.join("")}else E._string="";return E._string},l=this._snapshot;let b=i(l.html,this._index,void 0,void 0);return b?(b=(l.doctype?`<!DOCTYPE ${l.doctype}>`:"")+["<style>*,*::before,*::after { visibility: hidden }</style>",`<script>${Fn(this._callId,this.snapshotName)}<\/script>`].join("")+b,{html:b,pageId:l.pageId,frameId:l.frameId,index:this._index}):{html:"",pageId:l.pageId,frameId:l.frameId,index:this._index}}resourceByUrl(i,l){const b=this._snapshot;let g,E;for(const O of this._resources){if(typeof O._monotonicTime=="number"&&O._monotonicTime>=b.timestamp)break;O.response.status!==304&&O.request.url===i&&O.request.method===l&&(O._frameref===b.frameId?g=O:E=O)}let L=g??E;if(L&&l.toUpperCase()==="GET"){for(const O of b.resourceOverrides)if(i===O.url&&O.sha1){L={...L,response:{...L.response,content:{...L.response.content,_sha1:O.sha1}}};break}}return L}}const En=new Set(["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","MENUITEM","META","PARAM","SOURCE","TRACK","WBR"]),tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Cn(U){return U.replace(/[&<>"']/ug,i=>tn[i])}function In(U){return U.replace(/[&<]/ug,i=>tn[i])}function zn(U){if(!U._nodes){const i=[],l=b=>{if(typeof b=="string")i.push(b);else if(typeof b[0]=="string"){for(let g=2;g<b.length;g++)l(b[g]);i.push(b)}};l(U.html),U._nodes=i}return U._nodes}function Fn(...U){function i(l,...b){const g=[],E=[],L=[],O=D=>{for(const C of D.querySelectorAll("[__playwright_scroll_top_]"))g.push(C);for(const C of D.querySelectorAll("[__playwright_scroll_left_]"))E.push(C);for(const C of D.querySelectorAll("[__playwright_value_]"))C.value=C.getAttribute("__playwright_value_"),C.removeAttribute("__playwright_value_");for(const C of D.querySelectorAll("[__playwright_checked_]"))C.checked=C.getAttribute("__playwright_checked_")==="true",C.removeAttribute("__playwright_checked_");for(const C of D.querySelectorAll("[__playwright_selected_]"))C.selected=C.getAttribute("__playwright_selected_")==="true",C.removeAttribute("__playwright_selected_");for(const C of b)for(const H of D.querySelectorAll(`[__playwright_target__="${C}"]`)){const V=H.style;V.outline="2px solid #006ab1",V.backgroundColor="#6fa8dc7f",L.push(H)}for(const C of D.querySelectorAll("iframe, frame")){const H=C.getAttribute("__playwright_src__");if(!H)C.setAttribute("src",'data:text/html,<body style="background: #ddd"></body>');else{const V=new URL(l(window.location.href)),Q=V.pathname.lastIndexOf("/snapshot/");Q!==-1&&(V.pathname=V.pathname.substring(0,Q+1)),V.pathname+=H.substring(1),C.setAttribute("src",V.toString())}}{const C=D.querySelector("body[__playwright_custom_elements__]");if(C&&window.customElements){const H=(C.getAttribute("__playwright_custom_elements__")||"").split(",");for(const V of H)window.customElements.define(V,class extends HTMLElement{})}}for(const C of D.querySelectorAll("template[__playwright_shadow_root_]")){const H=C,V=H.parentElement.attachShadow({mode:"open"});V.appendChild(H.content),H.remove(),O(V)}if("adoptedStyleSheets"in D){const C=[...D.adoptedStyleSheets];for(const H of D.querySelectorAll("template[__playwright_style_sheet_]")){const V=H,Q=new CSSStyleSheet;Q.replaceSync(V.getAttribute("__playwright_style_sheet_")),C.push(Q)}D.adoptedStyleSheets=C}},q=()=>{window.removeEventListener("load",q);for(const C of g)C.scrollTop=+C.getAttribute("__playwright_scroll_top_"),C.removeAttribute("__playwright_scroll_top_");for(const C of E)C.scrollLeft=+C.getAttribute("__playwright_scroll_left_"),C.removeAttribute("__playwright_scroll_left_");if(document.styleSheets[0].disabled=!0,new URL(window.location.href).searchParams.get("showPoint"))for(const C of L){const H=document.createElement("x-pw-pointer");H.style.position="fixed",H.style.backgroundColor="#f44336",H.style.width="20px",H.style.height="20px",H.style.borderRadius="10px",H.style.margin="-10px 0 0 -10px",H.style.zIndex="2147483647";const V=C.getBoundingClientRect();H.style.left=V.left+V.width/2+"px",H.style.top=V.top+V.height/2+"px",document.documentElement.appendChild(H)}},$=()=>O(document);window.addEventListener("load",q),window.addEventListener("DOMContentLoaded",$)}return`
(${i.toString()})(${Yt.toString()}${U.map(l=>`, "${l}"`).join("")})`}const en=["about:","blob:","data:","file:","ftp:","http:","https:","mailto:","sftp:","ws:","wss:"],Xe="http://playwright.bloburl/#";function Jt(U){U.startsWith(Xe)&&(U=U.substring(Xe.length));try{const i=new URL(U);if(i.protocol==="javascript:"||i.protocol==="vbscript:")return"javascript:void(0)";if(!(i.protocol==="blob:")&&en.includes(i.protocol))return U;const b="pw-"+i.protocol.slice(0,i.protocol.length-1);return i.protocol="https:",i.hostname=i.hostname?`${b}--${i.hostname}`:b,i.toString()}catch{return U}}const Mn=/url\(['"]?([\w-]+:)\/\//ig;function Ln(U){return U.replace(Mn,(i,l)=>!(l==="blob:")&&en.includes(l)?i:i.replace(l+"//",`https://pw-${l.slice(0,-1)}--`))}function Yt(U){const i=new URL(U);return i.pathname.endsWith("/snapshot.html")?i.searchParams.get("r"):U}class Dn{constructor(i,l){J(this,"_snapshotStorage");J(this,"_resourceLoader");J(this,"_snapshotIds",new Map);this._snapshotStorage=i,this._resourceLoader=l}serveSnapshot(i,l,b){const g=this._snapshot(i.substring(9),l);if(!g)return new Response(null,{status:404});const E=g.render();return this._snapshotIds.set(b,g),new Response(E.html,{status:200,headers:{"Content-Type":"text/html"}})}serveSnapshotInfo(i,l){const b=this._snapshot(i.substring(13),l);return this._respondWithJson(b?{viewport:b.viewport(),url:b.snapshot().frameUrl}:{error:"No snapshot found"})}_snapshot(i,l){const b=l.get("name");return this._snapshotStorage.snapshotByName(i.slice(1),b)}_respondWithJson(i){return new Response(JSON.stringify(i),{status:200,headers:{"Cache-Control":"public, max-age=31536000","Content-Type":"application/json"}})}async serveResource(i,l,b){let g;const E=this._snapshotIds.get(b);for(const V of i)if(g=E==null?void 0:E.resourceByUrl(On(V),l),g)break;if(!g)return new Response(null,{status:404});const L=g.response.content._sha1,O=L?await this._resourceLoader(L)||new Blob([]):new Blob([]);let q=g.response.content.mimeType;/^text\/|^application\/(javascript|json)/.test(q)&&!q.includes("charset")&&(q=`${q}; charset=utf-8`);const D=new Headers;D.set("Content-Type",q);for(const{name:V,value:Q}of g.response.headers)D.set(V,Q);D.delete("Content-Encoding"),D.delete("Access-Control-Allow-Origin"),D.set("Access-Control-Allow-Origin","*"),D.delete("Content-Length"),D.set("Content-Length",String(O.size)),D.set("Cache-Control","public, max-age=31536000");const{status:C}=g.response,H=C===101||C===204||C===205||C===304;return new Response(H?null:O,{headers:D,status:g.response.status,statusText:g.response.statusText})}}function On(U){try{const i=new URL(U);return i.hash="",i.toString()}catch{return U}}function Nn(U){const i=new Map,{files:l,stacks:b}=U;for(const g of b){const[E,L]=g;i.set(`call@${E}`,L.map(O=>({file:l[O[0]],line:O[1],column:O[2],function:O[3]})))}return i}function Wn(){return{isPrimary:!1,traceUrl:"",startTime:Number.MAX_SAFE_INTEGER,endTime:0,browserName:"",options:{deviceScaleFactor:1,isMobile:!1,viewport:{width:1280,height:800}},pages:[],resources:[],actions:[],events:[],stdio:[],hasSource:!1}}class Pn{constructor(){J(this,"_resources",[]);J(this,"_frameSnapshots",new Map)}addResource(i){i.request.url=Jt(i.request.url),this._resources.push(i)}addFrameSnapshot(i){for(const g of i.resourceOverrides)g.url=Jt(g.url);let l=this._frameSnapshots.get(i.frameId);l||(l={raw:[],renderers:[]},this._frameSnapshots.set(i.frameId,l),i.isMainFrame&&this._frameSnapshots.set(i.pageId,l)),l.raw.push(i);const b=new Un(this._resources,l.raw,l.raw.length-1);return l.renderers.push(b),b}snapshotByName(i,l){const b=this._frameSnapshots.get(i);return b==null?void 0:b.renderers.find(g=>g.snapshotName===l)}snapshotsForTest(){return[...this._frameSnapshots.keys()]}finalize(){this._resources.sort((i,l)=>(i._monotonicTime||0)-(l._monotonicTime||0))}}class Bn{constructor(){J(this,"contextEntries",[]);J(this,"pageEntries",new Map);J(this,"_snapshotStorage");J(this,"_version");J(this,"_backend");J(this,"_attachments",new Map);J(this,"_resourceToContentType",new Map);J(this,"_jsHandles",new Map);J(this,"_consoleObjects",new Map)}async load(i,l){var O,q;this._backend=i;const b=[];let g=!1;for(const $ of await this._backend.entryNames()){const D=$.match(/(.+)\.trace/);D&&b.push(D[1]||""),$.includes("src@")&&(g=!0)}if(!b.length)throw new Error("Cannot find .trace file");this._snapshotStorage=new Pn;const E=b.length*3;let L=0;for(const $ of b){const D=Wn(),C=new Map;D.traceUrl=i.traceURL(),D.hasSource=g;const H=await this._backend.readText($+".trace")||"";for(const Y of H.split(`
`))this.appendEvent(D,C,Y);l(++L,E);const V=await this._backend.readText($+".network")||"";for(const Y of V.split(`
`))this.appendEvent(D,C,Y);if(l(++L,E),D.actions=[...C.values()].sort((Y,rt)=>Y.startTime-rt.startTime),!i.isLive()){for(const Y of D.actions.slice().reverse())if(!Y.endTime&&!Y.error)for(const rt of D.actions)rt.parentId===Y.callId&&Y.endTime<rt.endTime&&(Y.endTime=rt.endTime)}const Q=await this._backend.readText($+".stacks");if(Q){const Y=Nn(JSON.parse(Q));for(const rt of D.actions)rt.stack=rt.stack||Y.get(rt.callId)}l(++L,E);for(const Y of D.resources)(O=Y.request.postData)!=null&&O._sha1&&this._resourceToContentType.set(Y.request.postData._sha1,Qe(Y.request.postData.mimeType)),(q=Y.response.content)!=null&&q._sha1&&this._resourceToContentType.set(Y.response.content._sha1,Qe(Y.response.content.mimeType));this.contextEntries.push(D)}this._snapshotStorage.finalize(),this._jsHandles.clear(),this._consoleObjects.clear()}async hasEntry(i){return this._backend.hasEntry(i)}async resourceForSha1(i){const l=await this._backend.readBlob("resources/"+i);if(l)return new Blob([l],{type:this._resourceToContentType.get(i)||"application/octet-stream"})}attachmentForSha1(i){return this._attachments.get(i)}storage(){return this._snapshotStorage}_pageEntry(i,l){let b=this.pageEntries.get(l);return b||(b={screencastFrames:[]},this.pageEntries.set(l,b),i.pages.push(b)),b}appendEvent(i,l,b){var E;if(!b)return;const g=this._modernize(JSON.parse(b));if(g){switch(g.type){case"context-options":{this._version=g.version,i.isPrimary=!0,i.browserName=g.browserName,i.channel=g.channel,i.title=g.title,i.platform=g.platform,i.wallTime=g.wallTime,i.sdkLanguage=g.sdkLanguage,i.options=g.options,i.testIdAttributeName=g.testIdAttributeName;break}case"screencast-frame":{this._pageEntry(i,g.pageId).screencastFrames.push(g);break}case"before":{l.set(g.callId,{...g,type:"action",endTime:0,log:[]});break}case"input":{const L=l.get(g.callId);L.inputSnapshot=g.inputSnapshot,L.point=g.point;break}case"after":{const L=l.get(g.callId);L.afterSnapshot=g.afterSnapshot,L.endTime=g.endTime,L.log=g.log,L.result=g.result,L.error=g.error,L.attachments=g.attachments;for(const O of((E=g.attachments)==null?void 0:E.filter(q=>q.sha1))||[])this._attachments.set(O.sha1,O);break}case"action":{l.set(g.callId,g);break}case"event":{i.events.push(g);break}case"stdout":{i.stdio.push(g);break}case"stderr":{i.stdio.push(g);break}case"console":{i.events.push(g);break}case"resource-snapshot":this._snapshotStorage.addResource(g.snapshot),i.resources.push(g.snapshot);break;case"frame-snapshot":this._snapshotStorage.addFrameSnapshot(g.snapshot);break}(g.type==="action"||g.type==="before")&&(i.startTime=Math.min(i.startTime,g.startTime)),(g.type==="action"||g.type==="after")&&(i.endTime=Math.max(i.endTime,g.endTime)),g.type==="event"&&(i.startTime=Math.min(i.startTime,g.time),i.endTime=Math.max(i.endTime,g.time)),g.type==="screencast-frame"&&(i.startTime=Math.min(i.startTime,g.timestamp),i.endTime=Math.max(i.endTime,g.timestamp))}}_modernize(i){if(this._version===void 0)return i;const l=5;for(let b=this._version;b<l;++b)if(i=this[`_modernize_${b}_to_${b+1}`].call(this,i),!i)return null;return i}_modernize_0_to_1(i){return i.type==="action"&&typeof i.metadata.error=="string"&&(i.metadata.error={error:{name:"Error",message:i.metadata.error}}),i}_modernize_1_to_2(i){var l,b;return i.type==="frame-snapshot"&&i.snapshot.isMainFrame&&(i.snapshot.viewport=((b=(l=this.contextEntries[0])==null?void 0:l.options)==null?void 0:b.viewport)||{width:1280,height:720}),i}_modernize_2_to_3(i){if(i.type==="resource-snapshot"&&!i.snapshot.request){const l=i.snapshot;i.snapshot={_frameref:l.frameId,request:{url:l.url,method:l.method,headers:l.requestHeaders,postData:l.requestSha1?{_sha1:l.requestSha1}:void 0},response:{status:l.status,headers:l.responseHeaders,content:{mimeType:l.contentType,_sha1:l.responseSha1}},_monotonicTime:l.timestamp}}return i}_modernize_3_to_4(i){var b,g,E,L;if(i.type!=="action"&&i.type!=="event")return i;const l=i.metadata;return l.internal||l.method.startsWith("tracing")?null:i.type==="event"?l.method==="__create__"&&l.type==="ConsoleMessage"?{type:"object",class:l.type,guid:l.params.guid,initializer:l.params.initializer}:{type:"event",time:l.startTime,class:l.type,method:l.method,params:l.params,pageId:l.pageId}:{type:"action",callId:l.id,startTime:l.startTime,endTime:l.endTime,apiName:l.apiName||l.type+"."+l.method,class:l.type,method:l.method,params:l.params,wallTime:l.wallTime||Date.now(),log:l.log,beforeSnapshot:(b=l.snapshots.find(O=>O.title==="before"))==null?void 0:b.snapshotName,inputSnapshot:(g=l.snapshots.find(O=>O.title==="input"))==null?void 0:g.snapshotName,afterSnapshot:(E=l.snapshots.find(O=>O.title==="after"))==null?void 0:E.snapshotName,error:(L=l.error)==null?void 0:L.error,result:l.result,point:l.point,pageId:l.pageId}}_modernize_4_to_5(i){var l,b;if(i.type==="event"&&i.method==="__create__"&&i.class==="JSHandle"&&this._jsHandles.set(i.params.guid,i.params.initializer),i.type==="object"){if(i.class!=="ConsoleMessage")return null;const g=(l=i.initializer.args)==null?void 0:l.map(E=>{if(E.guid){const L=this._jsHandles.get(E.guid);return{preview:(L==null?void 0:L.preview)||"",value:""}}return{preview:E.preview||"",value:E.value||""}});return this._consoleObjects.set(i.guid,{type:i.initializer.type,text:i.initializer.text,location:i.initializer.location,args:g}),null}if(i.type==="event"&&i.method==="console"){const g=this._consoleObjects.get(((b=i.params.message)==null?void 0:b.guid)||"");return g?{type:"console",time:i.time,pageId:i.pageId,messageType:g.type,text:g.text,args:g.args,location:g.location}:null}return i}}function Qe(U){const i=U.match(/^(.*);\s*charset=.*$/);return i?i[1]:U}var jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hn(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}var Xt={exports:{}};(function(U,i){(function(l,b){b(i)})(jn,function(l){const L=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],O=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],q=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],$=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=15;function Q(){let n,e,t,r,o,d;function u(x,m,S,z,B,W,a,p,s,c,h){let w,R,v,y,f,k,F,I,T,A,M,P,K,N,G;A=0,f=S;do t[x[m+A]]++,A++,f--;while(f!==0);if(t[0]==S)return a[0]=-1,p[0]=0,0;for(I=p[0],k=1;k<=V&&t[k]===0;k++);for(F=k,I<k&&(I=k),f=V;f!==0&&t[f]===0;f--);for(v=f,I>f&&(I=f),p[0]=I,N=1<<k;k<f;k++,N<<=1)if((N-=t[k])<0)return-3;if((N-=t[f])<0)return-3;for(t[f]+=N,d[1]=k=0,A=1,K=2;--f!=0;)d[K]=k+=t[A],K++,A++;f=0,A=0;do(k=x[m+A])!==0&&(h[d[k]++]=f),A++;while(++f<S);for(S=d[v],d[0]=f=0,A=0,y=-1,P=-I,o[0]=0,M=0,G=0;F<=v;F++)for(w=t[F];w--!=0;){for(;F>P+I;){if(y++,P+=I,G=v-P,G=G>I?I:G,(R=1<<(k=F-P))>w+1&&(R-=w+1,K=F,k<G))for(;++k<G&&!((R<<=1)<=t[++K]);)R-=t[K];if(G=1<<k,c[0]+G>1440)return-3;o[y]=M=c[0],c[0]+=G,y!==0?(d[y]=f,r[0]=k,r[1]=I,k=f>>>P-I,r[2]=M-o[y-1]-k,s.set(r,3*(o[y-1]+k))):a[0]=M}for(r[1]=F-P,A>=S?r[0]=192:h[A]<z?(r[0]=h[A]<256?0:96,r[2]=h[A++]):(r[0]=W[h[A]-z]+16+64,r[2]=B[h[A++]-z]),R=1<<F-P,k=f>>>P;k<G;k+=R)s.set(r,3*(M+k));for(k=1<<F-1;f&k;k>>>=1)f^=k;for(f^=k,T=(1<<P)-1;(f&T)!=d[y];)y--,P-=I,T=(1<<P)-1}return N!==0&&v!=1?-5:0}function _(x){let m;for(n||(n=[],e=[],t=new Int32Array(16),r=[],o=new Int32Array(V),d=new Int32Array(16)),e.length<x&&(e=[]),m=0;m<x;m++)e[m]=0;for(m=0;m<16;m++)t[m]=0;for(m=0;m<3;m++)r[m]=0;o.set(t.subarray(0,V),0),d.set(t.subarray(0,16),0)}this.inflate_trees_bits=function(x,m,S,z,B){let W;return _(19),n[0]=0,W=u(x,0,19,19,null,null,S,m,z,n,e),W==-3?B.msg="oversubscribed dynamic bit lengths tree":W!=-5&&m[0]!==0||(B.msg="incomplete dynamic bit lengths tree",W=-3),W},this.inflate_trees_dynamic=function(x,m,S,z,B,W,a,p,s){let c;return _(288),n[0]=0,c=u(S,0,x,257,$,D,W,z,p,n,e),c!=0||z[0]===0?(c==-3?s.msg="oversubscribed literal/length tree":c!=-4&&(s.msg="incomplete literal/length tree",c=-3),c):(_(288),c=u(S,x,m,0,C,H,a,B,p,n,e),c!=0||B[0]===0&&x>257?(c==-3?s.msg="oversubscribed distance tree":c==-5?(s.msg="incomplete distance tree",c=-3):c!=-4&&(s.msg="empty distance tree with lengths",c=-3),c):0)}}Q.inflate_trees_fixed=function(n,e,t,r){return n[0]=9,e[0]=5,t[0]=O,r[0]=q,0};function Y(){const n=this;let e,t,r,o,d=0,u=0,_=0,x=0,m=0,S=0,z=0,B=0,W=0,a=0;function p(s,c,h,w,R,v,y,f){let k,F,I,T,A,M,P,K,N,G,ft,pt,j,xt,Z,X;P=f.next_in_index,K=f.avail_in,A=y.bitb,M=y.bitk,N=y.write,G=N<y.read?y.read-N-1:y.end-N,ft=L[s],pt=L[c];do{for(;M<20;)K--,A|=(255&f.read_byte(P++))<<M,M+=8;if(k=A&ft,F=h,I=w,X=3*(I+k),(T=F[X])!==0)for(;;){if(A>>=F[X+1],M-=F[X+1],(16&T)!=0){for(T&=15,j=F[X+2]+(A&L[T]),A>>=T,M-=T;M<15;)K--,A|=(255&f.read_byte(P++))<<M,M+=8;for(k=A&pt,F=R,I=v,X=3*(I+k),T=F[X];;){if(A>>=F[X+1],M-=F[X+1],(16&T)!=0){for(T&=15;M<T;)K--,A|=(255&f.read_byte(P++))<<M,M+=8;if(xt=F[X+2]+(A&L[T]),A>>=T,M-=T,G-=j,N>=xt)Z=N-xt,N-Z>0&&2>N-Z?(y.window[N++]=y.window[Z++],y.window[N++]=y.window[Z++],j-=2):(y.window.set(y.window.subarray(Z,Z+2),N),N+=2,Z+=2,j-=2);else{Z=N-xt;do Z+=y.end;while(Z<0);if(T=y.end-Z,j>T){if(j-=T,N-Z>0&&T>N-Z)do y.window[N++]=y.window[Z++];while(--T!=0);else y.window.set(y.window.subarray(Z,Z+T),N),N+=T,Z+=T,T=0;Z=0}}if(N-Z>0&&j>N-Z)do y.window[N++]=y.window[Z++];while(--j!=0);else y.window.set(y.window.subarray(Z,Z+j),N),N+=j,Z+=j,j=0;break}if(64&T)return f.msg="invalid distance code",j=f.avail_in-K,j=M>>3<j?M>>3:j,K+=j,P-=j,M-=j<<3,y.bitb=A,y.bitk=M,f.avail_in=K,f.total_in+=P-f.next_in_index,f.next_in_index=P,y.write=N,-3;k+=F[X+2],k+=A&L[T],X=3*(I+k),T=F[X]}break}if(64&T)return 32&T?(j=f.avail_in-K,j=M>>3<j?M>>3:j,K+=j,P-=j,M-=j<<3,y.bitb=A,y.bitk=M,f.avail_in=K,f.total_in+=P-f.next_in_index,f.next_in_index=P,y.write=N,1):(f.msg="invalid literal/length code",j=f.avail_in-K,j=M>>3<j?M>>3:j,K+=j,P-=j,M-=j<<3,y.bitb=A,y.bitk=M,f.avail_in=K,f.total_in+=P-f.next_in_index,f.next_in_index=P,y.write=N,-3);if(k+=F[X+2],k+=A&L[T],X=3*(I+k),(T=F[X])===0){A>>=F[X+1],M-=F[X+1],y.window[N++]=F[X+2],G--;break}}else A>>=F[X+1],M-=F[X+1],y.window[N++]=F[X+2],G--}while(G>=258&&K>=10);return j=f.avail_in-K,j=M>>3<j?M>>3:j,K+=j,P-=j,M-=j<<3,y.bitb=A,y.bitk=M,f.avail_in=K,f.total_in+=P-f.next_in_index,f.next_in_index=P,y.write=N,0}n.init=function(s,c,h,w,R,v){e=0,z=s,B=c,r=h,W=w,o=R,a=v,t=null},n.proc=function(s,c,h){let w,R,v,y,f,k,F,I=0,T=0,A=0;for(A=c.next_in_index,y=c.avail_in,I=s.bitb,T=s.bitk,f=s.write,k=f<s.read?s.read-f-1:s.end-f;;)switch(e){case 0:if(k>=258&&y>=10&&(s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,h=p(z,B,r,W,o,a,s,c),A=c.next_in_index,y=c.avail_in,I=s.bitb,T=s.bitk,f=s.write,k=f<s.read?s.read-f-1:s.end-f,h!=0)){e=h==1?7:9;break}_=z,t=r,u=W,e=1;case 1:for(w=_;T<w;){if(y===0)return s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);h=0,y--,I|=(255&c.read_byte(A++))<<T,T+=8}if(R=3*(u+(I&L[w])),I>>>=t[R+1],T-=t[R+1],v=t[R],v===0){x=t[R+2],e=6;break}if(16&v){m=15&v,d=t[R+2],e=2;break}if(!(64&v)){_=v,u=R/3+t[R+2];break}if(32&v){e=7;break}return e=9,c.msg="invalid literal/length code",h=-3,s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);case 2:for(w=m;T<w;){if(y===0)return s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);h=0,y--,I|=(255&c.read_byte(A++))<<T,T+=8}d+=I&L[w],I>>=w,T-=w,_=B,t=o,u=a,e=3;case 3:for(w=_;T<w;){if(y===0)return s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);h=0,y--,I|=(255&c.read_byte(A++))<<T,T+=8}if(R=3*(u+(I&L[w])),I>>=t[R+1],T-=t[R+1],v=t[R],(16&v)!=0){m=15&v,S=t[R+2],e=4;break}if(!(64&v)){_=v,u=R/3+t[R+2];break}return e=9,c.msg="invalid distance code",h=-3,s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);case 4:for(w=m;T<w;){if(y===0)return s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);h=0,y--,I|=(255&c.read_byte(A++))<<T,T+=8}S+=I&L[w],I>>=w,T-=w,e=5;case 5:for(F=f-S;F<0;)F+=s.end;for(;d!==0;){if(k===0&&(f==s.end&&s.read!==0&&(f=0,k=f<s.read?s.read-f-1:s.end-f),k===0&&(s.write=f,h=s.inflate_flush(c,h),f=s.write,k=f<s.read?s.read-f-1:s.end-f,f==s.end&&s.read!==0&&(f=0,k=f<s.read?s.read-f-1:s.end-f),k===0)))return s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);s.window[f++]=s.window[F++],k--,F==s.end&&(F=0),d--}e=0;break;case 6:if(k===0&&(f==s.end&&s.read!==0&&(f=0,k=f<s.read?s.read-f-1:s.end-f),k===0&&(s.write=f,h=s.inflate_flush(c,h),f=s.write,k=f<s.read?s.read-f-1:s.end-f,f==s.end&&s.read!==0&&(f=0,k=f<s.read?s.read-f-1:s.end-f),k===0)))return s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);h=0,s.window[f++]=x,k--,e=0;break;case 7:if(T>7&&(T-=8,y++,A--),s.write=f,h=s.inflate_flush(c,h),f=s.write,k=f<s.read?s.read-f-1:s.end-f,s.read!=s.write)return s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);e=8;case 8:return h=1,s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);case 9:return h=-3,s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h);default:return h=-2,s.bitb=I,s.bitk=T,c.avail_in=y,c.total_in+=A-c.next_in_index,c.next_in_index=A,s.write=f,s.inflate_flush(c,h)}},n.free=function(){}}const rt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function tt(n,e){const t=this;let r,o=0,d=0,u=0,_=0;const x=[0],m=[0],S=new Y;let z=0,B=new Int32Array(4320);const W=new Q;t.bitk=0,t.bitb=0,t.window=new Uint8Array(e),t.end=e,t.read=0,t.write=0,t.reset=function(a,p){p&&(p[0]=0),o==6&&S.free(a),o=0,t.bitk=0,t.bitb=0,t.read=t.write=0},t.reset(n,null),t.inflate_flush=function(a,p){let s,c,h;return c=a.next_out_index,h=t.read,s=(h<=t.write?t.write:t.end)-h,s>a.avail_out&&(s=a.avail_out),s!==0&&p==-5&&(p=0),a.avail_out-=s,a.total_out+=s,a.next_out.set(t.window.subarray(h,h+s),c),c+=s,h+=s,h==t.end&&(h=0,t.write==t.end&&(t.write=0),s=t.write-h,s>a.avail_out&&(s=a.avail_out),s!==0&&p==-5&&(p=0),a.avail_out-=s,a.total_out+=s,a.next_out.set(t.window.subarray(h,h+s),c),c+=s,h+=s),a.next_out_index=c,t.read=h,p},t.proc=function(a,p){let s,c,h,w,R,v,y,f;for(w=a.next_in_index,R=a.avail_in,c=t.bitb,h=t.bitk,v=t.write,y=v<t.read?t.read-v-1:t.end-v;;){let k,F,I,T,A,M,P,K;switch(o){case 0:for(;h<3;){if(R===0)return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);p=0,R--,c|=(255&a.read_byte(w++))<<h,h+=8}switch(s=7&c,z=1&s,s>>>1){case 0:c>>>=3,h-=3,s=7&h,c>>>=s,h-=s,o=1;break;case 1:k=[],F=[],I=[[]],T=[[]],Q.inflate_trees_fixed(k,F,I,T),S.init(k[0],F[0],I[0],0,T[0],0),c>>>=3,h-=3,o=6;break;case 2:c>>>=3,h-=3,o=3;break;case 3:return c>>>=3,h-=3,o=9,a.msg="invalid block type",p=-3,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p)}break;case 1:for(;h<32;){if(R===0)return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);p=0,R--,c|=(255&a.read_byte(w++))<<h,h+=8}if((~c>>>16&65535)!=(65535&c))return o=9,a.msg="invalid stored block lengths",p=-3,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);d=65535&c,c=h=0,o=d!==0?2:z!==0?7:0;break;case 2:if(R===0||y===0&&(v==t.end&&t.read!==0&&(v=0,y=v<t.read?t.read-v-1:t.end-v),y===0&&(t.write=v,p=t.inflate_flush(a,p),v=t.write,y=v<t.read?t.read-v-1:t.end-v,v==t.end&&t.read!==0&&(v=0,y=v<t.read?t.read-v-1:t.end-v),y===0)))return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);if(p=0,s=d,s>R&&(s=R),s>y&&(s=y),t.window.set(a.read_buf(w,s),v),w+=s,R-=s,v+=s,y-=s,(d-=s)!=0)break;o=z!==0?7:0;break;case 3:for(;h<14;){if(R===0)return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);p=0,R--,c|=(255&a.read_byte(w++))<<h,h+=8}if(u=s=16383&c,(31&s)>29||(s>>5&31)>29)return o=9,a.msg="too many length or distance symbols",p=-3,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);if(s=258+(31&s)+(s>>5&31),!r||r.length<s)r=[];else for(f=0;f<s;f++)r[f]=0;c>>>=14,h-=14,_=0,o=4;case 4:for(;_<4+(u>>>10);){for(;h<3;){if(R===0)return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);p=0,R--,c|=(255&a.read_byte(w++))<<h,h+=8}r[rt[_++]]=7&c,c>>>=3,h-=3}for(;_<19;)r[rt[_++]]=0;if(x[0]=7,s=W.inflate_trees_bits(r,x,m,B,a),s!=0)return(p=s)==-3&&(r=null,o=9),t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);_=0,o=5;case 5:for(;s=u,!(_>=258+(31&s)+(s>>5&31));){let N,G;for(s=x[0];h<s;){if(R===0)return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);p=0,R--,c|=(255&a.read_byte(w++))<<h,h+=8}if(s=B[3*(m[0]+(c&L[s]))+1],G=B[3*(m[0]+(c&L[s]))+2],G<16)c>>>=s,h-=s,r[_++]=G;else{for(f=G==18?7:G-14,N=G==18?11:3;h<s+f;){if(R===0)return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);p=0,R--,c|=(255&a.read_byte(w++))<<h,h+=8}if(c>>>=s,h-=s,N+=c&L[f],c>>>=f,h-=f,f=_,s=u,f+N>258+(31&s)+(s>>5&31)||G==16&&f<1)return r=null,o=9,a.msg="invalid bit length repeat",p=-3,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);G=G==16?r[f-1]:0;do r[f++]=G;while(--N!=0);_=f}}if(m[0]=-1,A=[],M=[],P=[],K=[],A[0]=9,M[0]=6,s=u,s=W.inflate_trees_dynamic(257+(31&s),1+(s>>5&31),r,A,M,P,K,B,a),s!=0)return s==-3&&(r=null,o=9),p=s,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);S.init(A[0],M[0],B,P[0],B,K[0]),o=6;case 6:if(t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,(p=S.proc(t,a,p))!=1)return t.inflate_flush(a,p);if(p=0,S.free(a),w=a.next_in_index,R=a.avail_in,c=t.bitb,h=t.bitk,v=t.write,y=v<t.read?t.read-v-1:t.end-v,z===0){o=0;break}o=7;case 7:if(t.write=v,p=t.inflate_flush(a,p),v=t.write,y=v<t.read?t.read-v-1:t.end-v,t.read!=t.write)return t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);o=8;case 8:return p=1,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);case 9:return p=-3,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p);default:return p=-2,t.bitb=c,t.bitk=h,a.avail_in=R,a.total_in+=w-a.next_in_index,a.next_in_index=w,t.write=v,t.inflate_flush(a,p)}}},t.free=function(a){t.reset(a,null),t.window=null,B=null},t.set_dictionary=function(a,p,s){t.window.set(a.subarray(p,p+s),0),t.read=t.write=s},t.sync_point=function(){return o==1?1:0}}const ct=13,_t=[0,0,255,255];function kt(){const n=this;function e(t){return t&&t.istate?(t.total_in=t.total_out=0,t.msg=null,t.istate.mode=7,t.istate.blocks.reset(t,null),0):-2}n.mode=0,n.method=0,n.was=[0],n.need=0,n.marker=0,n.wbits=0,n.inflateEnd=function(t){return n.blocks&&n.blocks.free(t),n.blocks=null,0},n.inflateInit=function(t,r){return t.msg=null,n.blocks=null,r<8||r>15?(n.inflateEnd(t),-2):(n.wbits=r,t.istate.blocks=new tt(t,1<<r),e(t),0)},n.inflate=function(t,r){let o,d;if(!t||!t.istate||!t.next_in)return-2;const u=t.istate;for(r=r==4?-5:0,o=-5;;)switch(u.mode){case 0:if(t.avail_in===0)return o;if(o=r,t.avail_in--,t.total_in++,(15&(u.method=t.read_byte(t.next_in_index++)))!=8){u.mode=ct,t.msg="unknown compression method",u.marker=5;break}if(8+(u.method>>4)>u.wbits){u.mode=ct,t.msg="invalid window size",u.marker=5;break}u.mode=1;case 1:if(t.avail_in===0)return o;if(o=r,t.avail_in--,t.total_in++,d=255&t.read_byte(t.next_in_index++),((u.method<<8)+d)%31!=0){u.mode=ct,t.msg="incorrect header check",u.marker=5;break}if(!(32&d)){u.mode=7;break}u.mode=2;case 2:if(t.avail_in===0)return o;o=r,t.avail_in--,t.total_in++,u.need=(255&t.read_byte(t.next_in_index++))<<24&4278190080,u.mode=3;case 3:if(t.avail_in===0)return o;o=r,t.avail_in--,t.total_in++,u.need+=(255&t.read_byte(t.next_in_index++))<<16&16711680,u.mode=4;case 4:if(t.avail_in===0)return o;o=r,t.avail_in--,t.total_in++,u.need+=(255&t.read_byte(t.next_in_index++))<<8&65280,u.mode=5;case 5:return t.avail_in===0?o:(o=r,t.avail_in--,t.total_in++,u.need+=255&t.read_byte(t.next_in_index++),u.mode=6,2);case 6:return u.mode=ct,t.msg="need dictionary",u.marker=0,-2;case 7:if(o=u.blocks.proc(t,o),o==-3){u.mode=ct,u.marker=0;break}if(o==0&&(o=r),o!=1)return o;o=r,u.blocks.reset(t,u.was),u.mode=12;case 12:return 1;case ct:return-3;default:return-2}},n.inflateSetDictionary=function(t,r,o){let d=0,u=o;if(!t||!t.istate||t.istate.mode!=6)return-2;const _=t.istate;return u>=1<<_.wbits&&(u=(1<<_.wbits)-1,d=o-u),_.blocks.set_dictionary(r,d,u),_.mode=7,0},n.inflateSync=function(t){let r,o,d,u,_;if(!t||!t.istate)return-2;const x=t.istate;if(x.mode!=ct&&(x.mode=ct,x.marker=0),(r=t.avail_in)===0)return-5;for(o=t.next_in_index,d=x.marker;r!==0&&d<4;)t.read_byte(o)==_t[d]?d++:d=t.read_byte(o)!==0?0:4-d,o++,r--;return t.total_in+=o-t.next_in_index,t.next_in_index=o,t.avail_in=r,x.marker=d,d!=4?-3:(u=t.total_in,_=t.total_out,e(t),t.total_in=u,t.total_out=_,x.mode=7,0)},n.inflateSyncPoint=function(t){return t&&t.istate&&t.istate.blocks?t.istate.blocks.sync_point():-2}}function Qt(){}Qt.prototype={inflateInit:function(n){const e=this;return e.istate=new kt,n||(n=15),e.istate.inflateInit(e,n)},inflate:function(n){const e=this;return e.istate?e.istate.inflate(e,n):-2},inflateEnd:function(){const n=this;if(!n.istate)return-2;const e=n.istate.inflateEnd(n);return n.istate=null,e},inflateSync:function(){const n=this;return n.istate?n.istate.inflateSync(n):-2},inflateSetDictionary:function(n,e){const t=this;return t.istate?t.istate.inflateSetDictionary(t,n,e):-2},read_byte:function(n){return this.next_in[n]},read_buf:function(n,e){return this.next_in.subarray(n,n+e)}};const rn={chunkSize:524288,maxWorkers:typeof navigator<"u"&&navigator.hardwareConcurrency||2,terminateWorkerTimeout:5e3,useWebWorkers:!0,workerScripts:void 0},st=Object.assign({},rn);function te(n){if(n.baseURL!==void 0&&(st.baseURL=n.baseURL),n.chunkSize!==void 0&&(st.chunkSize=n.chunkSize),n.maxWorkers!==void 0&&(st.maxWorkers=n.maxWorkers),n.terminateWorkerTimeout!==void 0&&(st.terminateWorkerTimeout=n.terminateWorkerTimeout),n.useWebWorkers!==void 0&&(st.useWebWorkers=n.useWebWorkers),n.Deflate!==void 0&&(st.Deflate=n.Deflate),n.Inflate!==void 0&&(st.Inflate=n.Inflate),n.workerScripts!==void 0){if(n.workerScripts.deflate){if(!Array.isArray(n.workerScripts.deflate))throw new Error("workerScripts.deflate must be an array");st.workerScripts||(st.workerScripts={}),st.workerScripts.deflate=n.workerScripts.deflate}if(n.workerScripts.inflate){if(!Array.isArray(n.workerScripts.inflate))throw new Error("workerScripts.inflate must be an array");st.workerScripts||(st.workerScripts={}),st.workerScripts.inflate=n.workerScripts.inflate}}}const ee="Abort error";function Ft(n,e){if(n&&n.aborted)throw e.flush(),new Error(ee)}async function ne(n,e){return e.length&&await n.writeUint8Array(e),e.length}const re="HTTP error ",Mt="HTTP Range not supported",Lt="text/plain",Dt="GET",sn="bytes";class se{constructor(){this.size=0}init(){this.initialized=!0}}class dt extends se{}class vt extends se{writeUint8Array(e){this.size+=e.length}}class ie extends dt{constructor(e){super(),this.blob=e,this.size=e.size}async readUint8Array(e,t){if(this.blob.arrayBuffer)return new Uint8Array(await this.blob.slice(e,e+t).arrayBuffer());{const r=new FileReader;return new Promise((o,d)=>{r.onload=u=>o(new Uint8Array(u.target.result)),r.onerror=()=>d(r.error),r.readAsArrayBuffer(this.blob.slice(e,e+t))})}}}class an extends dt{constructor(e,t){super(),this.url=e,this.preventHeadRequest=t.preventHeadRequest,this.useRangeHeader=t.useRangeHeader,this.forceRangeRequests=t.forceRangeRequests,this.options=Object.assign({},t),delete this.options.preventHeadRequest,delete this.options.useRangeHeader,delete this.options.forceRangeRequests,delete this.options.useXHR}async init(){super.init(),await ae(this,Nt,le)}async readUint8Array(e,t){return oe(this,e,t,Nt,le)}}class on extends dt{constructor(e,t){super(),this.url=e,this.preventHeadRequest=t.preventHeadRequest,this.useRangeHeader=t.useRangeHeader,this.forceRangeRequests=t.forceRangeRequests,this.options=t}async init(){super.init(),await ae(this,Wt,de)}async readUint8Array(e,t){return oe(this,e,t,Wt,de)}}async function ae(n,e,t){if(function(r){if(typeof document<"u"){const o=document.createElement("a");return o.href=r,o.protocol=="http:"||o.protocol=="https:"}return/^https?:\/\//i.test(r)}(n.url)&&(n.useRangeHeader||n.forceRangeRequests)){const r=await e(Dt,n,ce(n));if(!n.forceRangeRequests&&r.headers.get("Accept-Ranges")!=sn)throw new Error(Mt);{let o;const d=r.headers.get("Content-Range");if(d){const u=d.trim().split(/\s*\/\s*/);if(u.length){const _=u[1];_&&_!="*"&&(o=Number(_))}}o===void 0?await he(n,e,t):n.size=o}}else await he(n,e,t)}async function oe(n,e,t,r,o){if(n.useRangeHeader||n.forceRangeRequests){const d=await r(Dt,n,ce(n,e,t));if(d.status!=206)throw new Error(Mt);return new Uint8Array(await d.arrayBuffer())}return n.data||await o(n,n.options),new Uint8Array(n.data.subarray(e,e+t))}function ce(n,e=0,t=1){return Object.assign({},Ot(n),{Range:"bytes="+e+"-"+(e+t-1)})}function Ot(n){let e=n.options.headers;if(e)return Symbol.iterator in e?Object.fromEntries(e):e}async function le(n){await ue(n,Nt)}async function de(n){await ue(n,Wt)}async function ue(n,e){const t=await e(Dt,n,Ot(n));n.data=new Uint8Array(await t.arrayBuffer()),n.size||(n.size=n.data.length)}async function he(n,e,t){if(n.preventHeadRequest)await t(n,n.options);else{const r=(await e("HEAD",n,Ot(n))).headers.get("Content-Length");r?n.size=Number(r):await t(n,n.options)}}async function Nt(n,{options:e,url:t},r){const o=await fetch(t,Object.assign({},e,{method:n,headers:r}));if(o.status<400)return o;throw new Error(re+(o.statusText||o.status))}function Wt(n,{url:e},t){return new Promise((r,o)=>{const d=new XMLHttpRequest;if(d.addEventListener("load",()=>{if(d.status<400){const u=[];d.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(_=>{const x=_.trim().split(/\s*:\s*/);x[0]=x[0].trim().replace(/^[a-z]|-[a-z]/g,m=>m.toUpperCase()),u.push(x)}),r({status:d.status,arrayBuffer:()=>d.response,headers:new Map(u)})}else o(new Error(re+(d.statusText||d.status)))},!1),d.addEventListener("error",u=>o(u.detail.error),!1),d.open(n,e),t)for(const u of Object.entries(t))d.setRequestHeader(u[0],u[1]);d.responseType="arraybuffer",d.send()})}class fe extends dt{constructor(e,t={}){super(),this.url=e,t.useXHR?this.reader=new on(e,t):this.reader=new an(e,t)}set size(e){}get size(){return this.reader.size}async init(){super.init(),await this.reader.init()}async readUint8Array(e,t){return this.reader.readUint8Array(e,t)}}const Tt=4294967295,pe=33639248,_e=101075792,we=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)1&e?e=e>>>1^3988292384:e>>>=1;we[n]=e}class St{constructor(e){this.crc=e||-1}append(e){let t=0|this.crc;for(let r=0,o=0|e.length;r<o;r++)t=t>>>8^we[255&(t^e[r])];this.crc=t}get(){return~this.crc}}const it={concat(n,e){if(n.length===0||e.length===0)return n.concat(e);const t=n[n.length-1],r=it.getPartial(t);return r===32?n.concat(e):it._shiftRight(e,r,0|t,n.slice(0,n.length-1))},bitLength(n){const e=n.length;if(e===0)return 0;const t=n[e-1];return 32*(e-1)+it.getPartial(t)},clamp(n,e){if(32*n.length<e)return n;const t=(n=n.slice(0,Math.ceil(e/32))).length;return e&=31,t>0&&e&&(n[t-1]=it.partial(e,n[t-1]&2147483648>>e-1,1)),n},partial:(n,e,t)=>n===32?e:(t?0|e:e<<32-n)+1099511627776*n,getPartial:n=>Math.round(n/1099511627776)||32,_shiftRight(n,e,t,r){for(r===void 0&&(r=[]);e>=32;e-=32)r.push(t),t=0;if(e===0)return r.concat(n);for(let u=0;u<n.length;u++)r.push(t|n[u]>>>e),t=n[u]<<32-e;const o=n.length?n[n.length-1]:0,d=it.getPartial(o);return r.push(it.partial(e+d&31,e+d>32?t:r.pop(),1)),r}},me={bytes:{fromBits(n){const e=it.bitLength(n)/8,t=new Uint8Array(e);let r;for(let o=0;o<e;o++)!(3&o)&&(r=n[o/4]),t[o]=r>>>24,r<<=8;return t},toBits(n){const e=[];let t,r=0;for(t=0;t<n.length;t++)r=r<<8|n[t],(3&t)==3&&(e.push(r),r=0);return 3&t&&e.push(it.partial(8*(3&t),r)),e}}},ge={sha1:function(n){n?(this._h=n._h.slice(0),this._buffer=n._buffer.slice(0),this._length=n._length):this.reset()}};ge.sha1.prototype={blockSize:512,reset:function(){const n=this;return n._h=this._init.slice(0),n._buffer=[],n._length=0,n},update:function(n){const e=this;typeof n=="string"&&(n=me.utf8String.toBits(n));const t=e._buffer=it.concat(e._buffer,n),r=e._length,o=e._length=r+it.bitLength(n);if(o>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const d=new Uint32Array(t);let u=0;for(let _=e.blockSize+r-(e.blockSize+r&e.blockSize-1);_<=o;_+=e.blockSize)e._block(d.subarray(16*u,16*(u+1))),u+=1;return t.splice(0,16*u),e},finalize:function(){const n=this;let e=n._buffer;const t=n._h;e=it.concat(e,[it.partial(1,1)]);for(let r=e.length+2;15&r;r++)e.push(0);for(e.push(Math.floor(n._length/4294967296)),e.push(0|n._length);e.length;)n._block(e.splice(0,16));return n.reset(),t},_init:[1732584193,4023233417,2562383102,271733878,3285377520],_key:[1518500249,1859775393,2400959708,3395469782],_f:function(n,e,t,r){return n<=19?e&t|~e&r:n<=39?e^t^r:n<=59?e&t|e&r|t&r:n<=79?e^t^r:void 0},_S:function(n,e){return e<<n|e>>>32-n},_block:function(n){const e=this,t=e._h,r=Array(80);for(let m=0;m<16;m++)r[m]=n[m];let o=t[0],d=t[1],u=t[2],_=t[3],x=t[4];for(let m=0;m<=79;m++){m>=16&&(r[m]=e._S(1,r[m-3]^r[m-8]^r[m-14]^r[m-16]));const S=e._S(5,o)+e._f(m,d,u,_)+x+r[m]+e._key[Math.floor(m/20)]|0;x=_,_=u,u=e._S(30,d),d=o,o=S}t[0]=t[0]+o|0,t[1]=t[1]+d|0,t[2]=t[2]+u|0,t[3]=t[3]+_|0,t[4]=t[4]+x|0}};const cn={aes:class{constructor(n){const e=this;e._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],e._tables[0][0][0]||e._precompute();const t=e._tables[0][4],r=e._tables[1],o=n.length;let d,u,_,x=1;if(o!==4&&o!==6&&o!==8)throw new Error("invalid aes key size");for(e._key=[u=n.slice(0),_=[]],d=o;d<4*o+28;d++){let m=u[d-1];(d%o==0||o===8&&d%o==4)&&(m=t[m>>>24]<<24^t[m>>16&255]<<16^t[m>>8&255]<<8^t[255&m],d%o==0&&(m=m<<8^m>>>24^x<<24,x=x<<1^283*(x>>7))),u[d]=u[d-o]^m}for(let m=0;d;m++,d--){const S=u[3&m?d:d-4];_[m]=d<=4||m<4?S:r[0][t[S>>>24]]^r[1][t[S>>16&255]]^r[2][t[S>>8&255]]^r[3][t[255&S]]}}encrypt(n){return this._crypt(n,0)}decrypt(n){return this._crypt(n,1)}_precompute(){const n=this._tables[0],e=this._tables[1],t=n[4],r=e[4],o=[],d=[];let u,_,x,m;for(let S=0;S<256;S++)d[(o[S]=S<<1^283*(S>>7))^S]=S;for(let S=u=0;!t[S];S^=_||1,u=d[u]||1){let z=u^u<<1^u<<2^u<<3^u<<4;z=z>>8^255&z^99,t[S]=z,r[z]=S,m=o[x=o[_=o[S]]];let B=16843009*m^65537*x^257*_^16843008*S,W=257*o[z]^16843008*z;for(let a=0;a<4;a++)n[a][S]=W=W<<24^W>>>8,e[a][z]=B=B<<24^B>>>8}for(let S=0;S<5;S++)n[S]=n[S].slice(0),e[S]=e[S].slice(0)}_crypt(n,e){if(n.length!==4)throw new Error("invalid aes block size");const t=this._key[e],r=t.length/4-2,o=[0,0,0,0],d=this._tables[e],u=d[0],_=d[1],x=d[2],m=d[3],S=d[4];let z,B,W,a=n[0]^t[0],p=n[e?3:1]^t[1],s=n[2]^t[2],c=n[e?1:3]^t[3],h=4;for(let w=0;w<r;w++)z=u[a>>>24]^_[p>>16&255]^x[s>>8&255]^m[255&c]^t[h],B=u[p>>>24]^_[s>>16&255]^x[c>>8&255]^m[255&a]^t[h+1],W=u[s>>>24]^_[c>>16&255]^x[a>>8&255]^m[255&p]^t[h+2],c=u[c>>>24]^_[a>>16&255]^x[p>>8&255]^m[255&s]^t[h+3],h+=4,a=z,p=B,s=W;for(let w=0;w<4;w++)o[e?3&-w:w]=S[a>>>24]<<24^S[p>>16&255]<<16^S[s>>8&255]<<8^S[255&c]^t[h++],z=a,a=p,p=s,s=c,c=z;return o}}},ln={ctrGladman:class{constructor(n,e){this._prf=n,this._initIv=e,this._iv=e}reset(){this._iv=this._initIv}update(n){return this.calculate(this._prf,n,this._iv)}incWord(n){if((n>>24&255)==255){let e=n>>16&255,t=n>>8&255,r=255&n;e===255?(e=0,t===255?(t=0,r===255?r=0:++r):++t):++e,n=0,n+=e<<16,n+=t<<8,n+=r}else n+=1<<24;return n}incCounter(n){(n[0]=this.incWord(n[0]))===0&&(n[1]=this.incWord(n[1]))}calculate(n,e,t){let r;if(!(r=e.length))return[];const o=it.bitLength(e);for(let d=0;d<r;d+=4){this.incCounter(t);const u=n.encrypt(t);e[d]^=u[0],e[d+1]^=u[1],e[d+2]^=u[2],e[d+3]^=u[3]}return it.clamp(e,o)}}},dn={hmacSha1:class{constructor(n){const e=this,t=e._hash=ge.sha1,r=[[],[]],o=t.prototype.blockSize/32;e._baseHash=[new t,new t],n.length>o&&(n=t.hash(n));for(let d=0;d<o;d++)r[0][d]=909522486^n[d],r[1][d]=1549556828^n[d];e._baseHash[0].update(r[0]),e._baseHash[1].update(r[1]),e._resultHash=new t(e._baseHash[0])}reset(){const n=this;n._resultHash=new n._hash(n._baseHash[0]),n._updated=!1}update(n){this._updated=!0,this._resultHash.update(n)}digest(){const n=this,e=n._resultHash.finalize(),t=new n._hash(n._baseHash[1]).update(e).finalize();return n.reset(),t}}},Pt="Invalid pasword",gt=16,be={name:"PBKDF2"},un=Object.assign({hash:{name:"HMAC"}},be),hn=Object.assign({iterations:1e3,hash:{name:"SHA-1"}},be),fn=["deriveBits"],Rt=[8,12,16],At=[16,24,32],ut=10,ye=[0,0,0,0],lt=me.bytes,xe=cn.aes,ke=ln.ctrGladman,ve=dn.hmacSha1;class pn{constructor(e,t,r){Object.assign(this,{password:e,signed:t,strength:r-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;if(t.password){const r=at(e,0,Rt[t.strength]+2);await async function(o,d,u){await Re(o,u,at(d,0,Rt[o.strength]));const _=at(d,Rt[o.strength]),x=o.keys.passwordVerification;if(x[0]!=_[0]||x[1]!=_[1])throw new Error(Pt)}(t,r,t.password),t.password=null,t.aesCtrGladman=new ke(new xe(t.keys.key),Array.from(ye)),t.hmac=new ve(t.keys.authentication),e=at(e,Rt[t.strength]+2)}return Se(t,e,new Uint8Array(e.length-ut-(e.length-ut)%gt),0,ut,!0)}flush(){const e=this,t=e.pendingInput,r=at(t,0,t.length-ut),o=at(t,t.length-ut);let d=new Uint8Array(0);if(r.length){const _=lt.toBits(r);e.hmac.update(_);const x=e.aesCtrGladman.update(_);d=lt.fromBits(x)}let u=!0;if(e.signed){const _=at(lt.fromBits(e.hmac.digest()),0,ut);for(let x=0;x<ut;x++)_[x]!=o[x]&&(u=!1)}return{valid:u,data:d}}}class _n{constructor(e,t){Object.assign(this,{password:e,strength:t-1,pendingInput:new Uint8Array(0)})}async append(e){const t=this;let r=new Uint8Array(0);t.password&&(r=await async function(d,u){const _=crypto.getRandomValues(new Uint8Array(Rt[d.strength]));return await Re(d,u,_),Bt(_,d.keys.passwordVerification)}(t,t.password),t.password=null,t.aesCtrGladman=new ke(new xe(t.keys.key),Array.from(ye)),t.hmac=new ve(t.keys.authentication));const o=new Uint8Array(r.length+e.length-e.length%gt);return o.set(r,0),Se(t,e,o,r.length,0)}flush(){const e=this;let t=new Uint8Array(0);if(e.pendingInput.length){const o=e.aesCtrGladman.update(lt.toBits(e.pendingInput));e.hmac.update(o),t=lt.fromBits(o)}const r=at(lt.fromBits(e.hmac.digest()),0,ut);return{data:Bt(t,r),signature:r}}}function Se(n,e,t,r,o,d){const u=e.length-o;let _;for(n.pendingInput.length&&(e=Bt(n.pendingInput,e),t=function(x,m){if(m&&m>x.length){const S=x;(x=new Uint8Array(m)).set(S,0)}return x}(t,u-u%gt)),_=0;_<=u-gt;_+=gt){const x=lt.toBits(at(e,_,_+gt));d&&n.hmac.update(x);const m=n.aesCtrGladman.update(x);d||n.hmac.update(m),t.set(lt.fromBits(m),_+r)}return n.pendingInput=at(e,_),t}async function Re(n,e,t){const r=function(_){if(typeof TextEncoder>"u"){_=unescape(encodeURIComponent(_));const x=new Uint8Array(_.length);for(let m=0;m<x.length;m++)x[m]=_.charCodeAt(m);return x}return new TextEncoder().encode(_)}(e),o=await crypto.subtle.importKey("raw",r,un,!1,fn),d=await crypto.subtle.deriveBits(Object.assign({salt:t},hn),o,8*(2*At[n.strength]+2)),u=new Uint8Array(d);n.keys={key:lt.toBits(at(u,0,At[n.strength])),authentication:lt.toBits(at(u,At[n.strength],2*At[n.strength])),passwordVerification:at(u,2*At[n.strength])}}function Bt(n,e){let t=n;return n.length+e.length&&(t=new Uint8Array(n.length+e.length),t.set(n,0),t.set(e,n.length)),t}function at(n,e,t){return n.subarray(e,t)}const Ut=12;class wn{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),Ue(this,e)}append(e){const t=this;if(t.password){const r=Ae(t,e.subarray(0,Ut));if(t.password=null,r[11]!=t.passwordVerification)throw new Error(Pt);e=e.subarray(Ut)}return Ae(t,e)}flush(){return{valid:!0,data:new Uint8Array(0)}}}class mn{constructor(e,t){Object.assign(this,{password:e,passwordVerification:t}),Ue(this,e)}append(e){const t=this;let r,o;if(t.password){t.password=null;const d=crypto.getRandomValues(new Uint8Array(Ut));d[11]=t.passwordVerification,r=new Uint8Array(e.length+d.length),r.set(Te(t,d),0),o=Ut}else r=new Uint8Array(e.length),o=0;return r.set(Te(t,e),o),r}flush(){return{data:new Uint8Array(0)}}}function Ae(n,e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=Ee(n)^e[r],jt(n,t[r]);return t}function Te(n,e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=Ee(n)^e[r],jt(n,e[r]);return t}function Ue(n,e){n.keys=[305419896,591751049,878082192],n.crcKey0=new St(n.keys[0]),n.crcKey2=new St(n.keys[2]);for(let t=0;t<e.length;t++)jt(n,e.charCodeAt(t))}function jt(n,e){n.crcKey0.append([e]),n.keys[0]=~n.crcKey0.get(),n.keys[1]=Ie(n.keys[1]+Ce(n.keys[0])),n.keys[1]=Ie(Math.imul(n.keys[1],134775813)+1),n.crcKey2.append([n.keys[1]>>>24]),n.keys[2]=~n.crcKey2.get()}function Ee(n){const e=2|n.keys[2];return Ce(Math.imul(e,1^e)>>>8)}function Ce(n){return 255&n}function Ie(n){return 4294967295&n}const ze="inflate",Ht="Invalid signature";class gn{constructor(e,{signature:t,password:r,signed:o,compressed:d,zipCrypto:u,passwordVerification:_,encryptionStrength:x},{chunkSize:m}){const S=!!r;Object.assign(this,{signature:t,encrypted:S,signed:o,compressed:d,inflate:d&&new e({chunkSize:m}),crc32:o&&new St,zipCrypto:u,decrypt:S&&u?new wn(r,_):new pn(r,o,x)})}async append(e){const t=this;return t.encrypted&&e.length&&(e=await t.decrypt.append(e)),t.compressed&&e.length&&(e=await t.inflate.append(e)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),e}async flush(){const e=this;let t,r=new Uint8Array(0);if(e.encrypted){const o=e.decrypt.flush();if(!o.valid)throw new Error(Ht);r=o.data}if((!e.encrypted||e.zipCrypto)&&e.signed){const o=new DataView(new Uint8Array(4).buffer);if(t=e.crc32.get(),o.setUint32(0,t),e.signature!=o.getUint32(0,!1))throw new Error(Ht)}return e.compressed&&(r=await e.inflate.append(r)||new Uint8Array(0),await e.inflate.flush()),{data:r,signature:t}}}class bn{constructor(e,{encrypted:t,signed:r,compressed:o,level:d,zipCrypto:u,password:_,passwordVerification:x,encryptionStrength:m},{chunkSize:S}){Object.assign(this,{encrypted:t,signed:r,compressed:o,deflate:o&&new e({level:d||5,chunkSize:S}),crc32:r&&new St,zipCrypto:u,encrypt:t&&u?new mn(_,x):new _n(_,m)})}async append(e){const t=this;let r=e;return t.compressed&&e.length&&(r=await t.deflate.append(e)),t.encrypted&&r.length&&(r=await t.encrypt.append(r)),(!t.encrypted||t.zipCrypto)&&t.signed&&e.length&&t.crc32.append(e),r}async flush(){const e=this;let t,r=new Uint8Array(0);if(e.compressed&&(r=await e.deflate.flush()||new Uint8Array(0)),e.encrypted){r=await e.encrypt.append(r);const o=e.encrypt.flush();t=o.signature;const d=new Uint8Array(r.length+o.data.length);d.set(r,0),d.set(o.data,r.length),r=d}return e.encrypted&&!e.zipCrypto||!e.signed||(t=e.crc32.get()),{data:r,signature:t}}}const Fe="init",Me="append",qt="flush",yn="message";let Le=!0;var Vt=(n,e,t,r,o,d,u)=>(Object.assign(n,{busy:!0,codecConstructor:e,options:Object.assign({},t),scripts:u,terminate(){n.worker&&!n.busy&&(n.worker.terminate(),n.interface=null)},onTaskFinished(){n.busy=!1,o(n)}}),d?function(_,x){let m;const S={type:"module"};if(!_.interface){if(Le)try{_.worker=z({},x.baseURL)}catch{Le=!1,_.worker=z(S,x.baseURL)}else _.worker=z(S,x.baseURL);_.worker.addEventListener(yn,a,!1),_.interface={append:p=>B({type:Me,data:p}),flush:()=>B({type:qt})}}return _.interface;function z(p,s){let c;try{c=new URL(_.scripts[0],s)}catch{c=_.scripts[0]}return new Worker(c,p)}async function B(p){if(!m){const s=_.options,c=_.scripts.slice(1);await W({scripts:c,type:Fe,options:s,config:{chunkSize:x.chunkSize}})}return W(p)}function W(p){const s=_.worker,c=new Promise((h,w)=>m={resolve:h,reject:w});try{if(p.data)try{p.data=p.data.buffer,s.postMessage(p,[p.data])}catch{s.postMessage(p)}else s.postMessage(p)}catch(h){m.reject(h),m=null,_.onTaskFinished()}return c}function a(p){const s=p.data;if(m){const c=s.error,h=s.type;if(c){const w=new Error(c.message);w.stack=c.stack,m.reject(w),m=null,_.onTaskFinished()}else if(h==Fe||h==qt||h==Me){const w=s.data;h==qt?(m.resolve({data:new Uint8Array(w),signature:s.signature}),m=null,_.onTaskFinished()):m.resolve(w&&new Uint8Array(w))}}}}(n,r):function(_,x){const m=function(S,z,B){return z.codecType.startsWith("deflate")?new bn(S,z,B):z.codecType.startsWith(ze)?new gn(S,z,B):void 0}(_.codecConstructor,_.options,x);return{async append(S){try{return await m.append(S)}catch(z){throw _.onTaskFinished(),z}},async flush(){try{return await m.flush()}finally{_.onTaskFinished()}}}}(n,r));let wt=[],$t=[];function De(n){n.terminateTimeout&&(clearTimeout(n.terminateTimeout),n.terminateTimeout=null)}const xn="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ".split("");async function Gt(n,e){if(e&&e.trim().toLowerCase()=="cp437")return(t=>{let r="";for(let o=0;o<t.length;o++)r+=xn[t[o]];return r})(n);if(typeof TextDecoder>"u"){const t=new FileReader;return new Promise((r,o)=>{t.onload=d=>r(d.target.result),t.onerror=()=>o(t.error),t.readAsText(new Blob([n]))})}return new TextDecoder(e).decode(n)}const kn=["filename","rawFilename","directory","encrypted","compressedSize","uncompressedSize","lastModDate","rawLastModDate","comment","rawComment","signature","extraField","rawExtraField","bitFlag","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","filenameUTF8","commentUTF8","offset","zip64","compressionMethod","extraFieldNTFS","lastAccessDate","creationDate","extraFieldExtendedTimestamp","version","versionMadeBy","msDosCompatible","internalFileAttribute","externalFileAttribute"];class Oe{constructor(e){kn.forEach(t=>this[t]=e[t])}}const Et="File format is not recognized",Ne="End of central directory not found",We="End of Zip64 central directory not found",Pe="End of Zip64 central directory locator not found",Be="Central directory header not found",je="Local file header not found",He="Zip64 extra field not found",qe="File contains encrypted entry",Ve="Encryption method not supported",Kt="Compression method not supported",$e="utf-8",Ge="cp437",Ke=["uncompressedSize","compressedSize","offset"];class vn{constructor(e,t,r){Object.assign(this,{reader:e,config:t,options:r})}async getData(e,t,r={}){const o=this,{reader:d,offset:u,extraFieldAES:_,compressionMethod:x,config:m,bitFlag:S,signature:z,rawLastModDate:B,compressedSize:W}=o,a=o.localDirectory={};d.initialized||await d.init();let p=await ht(d,u,30);const s=nt(p);let c=bt(o,r,"password");if(c=c&&c.length&&c,_&&_.originalCompressionMethod!=99)throw new Error(Kt);if(x!=0&&x!=8)throw new Error(Kt);if(et(s,0)!=67324752)throw new Error(je);Ze(a,s,4),p=await ht(d,u,30+a.filenameLength+a.extraFieldLength),a.rawExtraField=p.subarray(30+a.filenameLength),await Je(o,a,s,4),t.lastAccessDate=a.lastAccessDate,t.creationDate=a.creationDate;const h=o.encrypted&&a.encrypted,w=h&&!_;if(h){if(!w&&_.strength===void 0)throw new Error(Ve);if(!c)throw new Error(qe)}const R=await function(f,k,F){const I=!(!k.compressed&&!k.signed&&!k.encrypted)&&(k.useWebWorkers||k.useWebWorkers===void 0&&F.useWebWorkers),T=I&&F.workerScripts?F.workerScripts[k.codecType]:[];if(wt.length<F.maxWorkers){const M={};return wt.push(M),Vt(M,f,k,F,A,I,T)}{const M=wt.find(P=>!P.busy);return M?(De(M),Vt(M,f,k,F,A,I,T)):new Promise(P=>$t.push({resolve:P,codecConstructor:f,options:k,webWorker:I,scripts:T}))}function A(M){if($t.length){const[{resolve:P,codecConstructor:K,options:N,webWorker:G,scripts:ft}]=$t.splice(0,1);P(Vt(M,K,N,F,A,G,ft))}else M.worker?(De(M),Number.isFinite(F.terminateWorkerTimeout)&&F.terminateWorkerTimeout>=0&&(M.terminateTimeout=setTimeout(()=>{wt=wt.filter(P=>P!=M),M.terminate()},F.terminateWorkerTimeout))):wt=wt.filter(P=>P!=M)}}(m.Inflate,{codecType:ze,password:c,zipCrypto:w,encryptionStrength:_&&_.strength,signed:bt(o,r,"checkSignature"),passwordVerification:w&&(S.dataDescriptor?B>>>8&255:z>>>24&255),signature:z,compressed:x!=0,encrypted:h,useWebWorkers:bt(o,r,"useWebWorkers")},m);e.initialized||await e.init();const v=bt(o,r,"signal"),y=u+30+a.filenameLength+a.extraFieldLength;return await async function(f,k,F,I,T,A,M){const P=Math.max(A.chunkSize,64);return async function K(N=0,G=0){const ft=M.signal;if(N<T){Ft(ft,f);const pt=await k.readUint8Array(N+I,Math.min(P,T-N)),j=pt.length;Ft(ft,f);const xt=await f.append(pt);if(Ft(ft,f),G+=await ne(F,xt),M.onprogress)try{M.onprogress(N+j,T)}catch{}return K(N+P,G)}{const pt=await f.flush();return G+=await ne(F,pt.data),{signature:pt.signature,length:G}}}()}(R,d,e,y,W,m,{onprogress:r.onprogress,signal:v}),e.getData()}}function Ze(n,e,t){const r=n.rawBitFlag=ot(e,t+2),o=(1&r)==1,d=et(e,t+6);Object.assign(n,{encrypted:o,version:ot(e,t),bitFlag:{level:(6&r)>>1,dataDescriptor:(8&r)==8,languageEncodingFlag:(2048&r)==2048},rawLastModDate:d,lastModDate:Sn(d),filenameLength:ot(e,t+22),extraFieldLength:ot(e,t+24)})}async function Je(n,e,t,r){const o=e.rawExtraField,d=e.extraField=new Map,u=nt(new Uint8Array(o));let _=0;try{for(;_<o.length;){const p=ot(u,_),s=ot(u,_+2);d.set(p,{type:p,data:o.slice(_+4,_+4+s)}),_+=4+s}}catch{}const x=ot(t,r+4);e.signature=et(t,r+10),e.uncompressedSize=et(t,r+18),e.compressedSize=et(t,r+14);const m=d.get(1);m&&(function(p,s){s.zip64=!0;const c=nt(p.data);p.values=[];for(let w=0;w<Math.floor(p.data.length/8);w++)p.values.push(Ct(c,0+8*w));const h=Ke.filter(w=>s[w]==Tt);for(let w=0;w<h.length;w++)p[h[w]]=p.values[w];Ke.forEach(w=>{if(s[w]==Tt){if(p[w]===void 0)throw new Error(He);s[w]=p[w]}})}(m,e),e.extraFieldZip64=m);const S=d.get(28789);S&&(await Ye(S,"filename","rawFilename",e,n),e.extraFieldUnicodePath=S);const z=d.get(25461);z&&(await Ye(z,"comment","rawComment",e,n),e.extraFieldUnicodeComment=z);const B=d.get(39169);B?(function(p,s,c){const h=nt(p.data);p.vendorVersion=yt(h,0),p.vendorId=yt(h,2);const w=yt(h,4);p.strength=w,p.originalCompressionMethod=c,s.compressionMethod=p.compressionMethod=ot(h,5)}(B,e,x),e.extraFieldAES=B):e.compressionMethod=x;const W=d.get(10);W&&(function(p,s){const c=nt(p.data);let h,w=4;try{for(;w<p.data.length&&!h;){const R=ot(c,w),v=ot(c,w+2);R==1&&(h=p.data.slice(w+4,w+4+v)),w+=4+v}}catch{}try{if(h&&h.length==24){const R=nt(h),v=R.getBigUint64(0,!0),y=R.getBigUint64(8,!0),f=R.getBigUint64(16,!0);Object.assign(p,{rawLastModDate:v,rawLastAccessDate:y,rawCreationDate:f});const k=Zt(v),F=Zt(y),I={lastModDate:k,lastAccessDate:F,creationDate:Zt(f)};Object.assign(p,I),Object.assign(s,I)}}catch{}}(W,e),e.extraFieldNTFS=W);const a=d.get(21589);a&&(function(p,s){const c=nt(p.data),h=yt(c,0),w=[],R=[];(1&h)==1&&(w.push("lastModDate"),R.push("rawLastModDate")),(2&h)==2&&(w.push("lastAccessDate"),R.push("rawLastAccessDate")),(4&h)==4&&(w.push("creationDate"),R.push("rawCreationDate"));let v=1;w.forEach((y,f)=>{if(p.data.length>=v+4){const k=et(c,v);s[y]=p[y]=new Date(1e3*k);const F=R[f];p[F]=k}v+=4})}(a,e),e.extraFieldExtendedTimestamp=a)}async function Ye(n,e,t,r,o){const d=nt(n.data);n.version=yt(d,0),n.signature=et(d,1);const u=new St;u.append(o[t]);const _=nt(new Uint8Array(4));_.setUint32(0,u.get(),!0),n[e]=await Gt(n.data.subarray(5)),n.valid=!o.bitFlag.languageEncodingFlag&&n.signature==et(_,0),n.valid&&(r[e]=n[e],r[e+"UTF8"]=!0)}function bt(n,e,t){return e[t]===void 0?n.options[t]:e[t]}function Sn(n){const e=(4294901760&n)>>16,t=65535&n;try{return new Date(1980+((65024&e)>>9),((480&e)>>5)-1,31&e,(63488&t)>>11,(2016&t)>>5,2*(31&t),0)}catch{}}function Zt(n){return new Date(Number(n/BigInt(1e4)-BigInt(116444736e5)))}function yt(n,e){return n.getUint8(e)}function ot(n,e){return n.getUint16(e,!0)}function et(n,e){return n.getUint32(e,!0)}function Ct(n,e){return Number(n.getBigUint64(e,!0))}function nt(n){return new DataView(n.buffer)}function ht(n,e,t){return n.readUint8Array(e,t)}te({Inflate:function(n){const e=new Qt,t=n&&n.chunkSize?Math.floor(2*n.chunkSize):131072,r=new Uint8Array(t);let o=!1;e.inflateInit(),e.next_out=r,this.append=function(d,u){const _=[];let x,m,S=0,z=0,B=0;if(d.length!==0){e.next_in_index=0,e.next_in=d,e.avail_in=d.length;do{if(e.next_out_index=0,e.avail_out=t,e.avail_in!==0||o||(e.next_in_index=0,o=!0),x=e.inflate(0),o&&x===-5){if(e.avail_in!==0)throw new Error("inflating: bad input")}else if(x!==0&&x!==1)throw new Error("inflating: "+e.msg);if((o||x===1)&&e.avail_in===d.length)throw new Error("inflating: bad input");e.next_out_index&&(e.next_out_index===t?_.push(new Uint8Array(r)):_.push(r.slice(0,e.next_out_index))),B+=e.next_out_index,u&&e.next_in_index>0&&e.next_in_index!=S&&(u(e.next_in_index),S=e.next_in_index)}while(e.avail_in>0||e.avail_out===0);return _.length>1?(m=new Uint8Array(B),_.forEach(function(W){m.set(W,z),z+=W.length})):m=_[0]||new Uint8Array(0),m}},this.flush=function(){e.inflateEnd()}}}),l.BlobReader=ie,l.BlobWriter=class extends vt{constructor(n){super(),this.contentType=n,this.arrayBuffers=[]}async writeUint8Array(n){super.writeUint8Array(n),this.arrayBuffers.push(n.buffer)}getData(){return this.blob||(this.blob=new Blob(this.arrayBuffers,{type:this.contentType})),this.blob}},l.Data64URIReader=class extends dt{constructor(n){super(),this.dataURI=n;let e=n.length;for(;n.charAt(e-1)=="=";)e--;this.dataStart=n.indexOf(",")+1,this.size=Math.floor(.75*(e-this.dataStart))}async readUint8Array(n,e){const t=new Uint8Array(e),r=4*Math.floor(n/3),o=atob(this.dataURI.substring(r+this.dataStart,4*Math.ceil((n+e)/3)+this.dataStart)),d=n-3*Math.floor(r/4);for(let u=d;u<d+e;u++)t[u-d]=o.charCodeAt(u);return t}},l.Data64URIWriter=class extends vt{constructor(n){super(),this.data="data:"+(n||"")+";base64,",this.pending=[]}async writeUint8Array(n){super.writeUint8Array(n);let e=0,t=this.pending;const r=this.pending.length;for(this.pending="",e=0;e<3*Math.floor((r+n.length)/3)-r;e++)t+=String.fromCharCode(n[e]);for(;e<n.length;e++)this.pending+=String.fromCharCode(n[e]);t.length>2?this.data+=btoa(t):this.pending=t}getData(){return this.data+btoa(this.pending)}},l.ERR_ABORT=ee,l.ERR_BAD_FORMAT=Et,l.ERR_CENTRAL_DIRECTORY_NOT_FOUND=Be,l.ERR_ENCRYPTED=qe,l.ERR_EOCDR_LOCATOR_ZIP64_NOT_FOUND=Pe,l.ERR_EOCDR_NOT_FOUND=Ne,l.ERR_EOCDR_ZIP64_NOT_FOUND=We,l.ERR_EXTRAFIELD_ZIP64_NOT_FOUND=He,l.ERR_HTTP_RANGE=Mt,l.ERR_INVALID_PASSWORD=Pt,l.ERR_INVALID_SIGNATURE=Ht,l.ERR_LOCAL_FILE_HEADER_NOT_FOUND=je,l.ERR_UNSUPPORTED_COMPRESSION=Kt,l.ERR_UNSUPPORTED_ENCRYPTION=Ve,l.HttpRangeReader=class extends fe{constructor(n,e={}){e.useRangeHeader=!0,super(n,e)}},l.HttpReader=fe,l.Reader=dt,l.TextReader=class extends dt{constructor(n){super(),this.blobReader=new ie(new Blob([n],{type:Lt}))}async init(){super.init(),this.blobReader.init(),this.size=this.blobReader.size}async readUint8Array(n,e){return this.blobReader.readUint8Array(n,e)}},l.TextWriter=class extends vt{constructor(n){super(),this.encoding=n,this.blob=new Blob([],{type:Lt})}async writeUint8Array(n){super.writeUint8Array(n),this.blob=new Blob([this.blob,n.buffer],{type:Lt})}getData(){if(this.blob.text)return this.blob.text();{const n=new FileReader;return new Promise((e,t)=>{n.onload=r=>e(r.target.result),n.onerror=()=>t(n.error),n.readAsText(this.blob,this.encoding)})}}},l.Uint8ArrayReader=class extends dt{constructor(n){super(),this.array=n,this.size=n.length}async readUint8Array(n,e){return this.array.slice(n,n+e)}},l.Uint8ArrayWriter=class extends vt{constructor(){super(),this.array=new Uint8Array(0)}async writeUint8Array(n){super.writeUint8Array(n);const e=this.array;this.array=new Uint8Array(e.length+n.length),this.array.set(e),this.array.set(n,e.length)}getData(){return this.array}},l.Writer=vt,l.ZipReader=class{constructor(n,e={}){Object.assign(this,{reader:n,options:e,config:st})}async getEntries(n={}){const e=this,t=e.reader;if(t.initialized||await t.init(),t.size<22)throw new Error(Et);const r=await async function(W,a,p,s,c){const h=new Uint8Array(4);(function(v,y,f){v.setUint32(y,f,!0)})(nt(h),0,a);const w=s+c;return await R(s)||await R(Math.min(w,p));async function R(v){const y=p-v,f=await ht(W,y,v);for(let k=f.length-s;k>=0;k--)if(f[k]==h[0]&&f[k+1]==h[1]&&f[k+2]==h[2]&&f[k+3]==h[3])return{offset:y+k,buffer:f.slice(k,k+s).buffer}}}(t,101010256,t.size,22,1048560);if(!r)throw new Error(Ne);const o=nt(r);let d=et(o,12),u=et(o,16),_=ot(o,8),x=0;if(u==Tt||d==Tt||_==65535){const W=nt(await ht(t,r.offset-20,20));if(et(W,0)!=117853008)throw new Error(We);u=Ct(W,8);let a=await ht(t,u,56),p=nt(a);const s=r.offset-20-56;if(et(p,0)!=_e&&u!=s){const c=u;u=s,x=u-c,a=await ht(t,u,56),p=nt(a)}if(et(p,0)!=_e)throw new Error(Pe);_=Ct(p,32),d=Ct(p,40),u-=d}if(u<0||u>=t.size)throw new Error(Et);let m=0,S=await ht(t,u,d),z=nt(S);if(d){const W=r.offset-d;if(et(z,m)!=pe&&u!=W){const a=u;u=W,x=u-a,S=await ht(t,u,d),z=nt(S)}}if(u<0||u>=t.size)throw new Error(Et);const B=[];for(let W=0;W<_;W++){const a=new vn(t,e.config,e.options);if(et(z,m)!=pe)throw new Error(Be);Ze(a,z,m+6);const p=!!a.bitFlag.languageEncodingFlag,s=m+46,c=s+a.filenameLength,h=c+a.extraFieldLength,w=ot(z,m+4),R=(0&w)==0;Object.assign(a,{versionMadeBy:w,msDosCompatible:R,compressedSize:0,uncompressedSize:0,commentLength:ot(z,m+32),directory:R&&(16&yt(z,m+38))==16,offset:et(z,m+42)+x,internalFileAttribute:et(z,m+34),externalFileAttribute:et(z,m+38),rawFilename:S.subarray(s,c),filenameUTF8:p,commentUTF8:p,rawExtraField:S.subarray(c,h)});const v=h+a.commentLength;a.rawComment=S.subarray(h,v);const y=bt(e,n,"filenameEncoding"),f=bt(e,n,"commentEncoding"),[k,F]=await Promise.all([Gt(a.rawFilename,a.filenameUTF8?$e:y||Ge),Gt(a.rawComment,a.commentUTF8?$e:f||Ge)]);a.filename=k,a.comment=F,!a.directory&&a.filename.endsWith("/")&&(a.directory=!0),await Je(a,a,z,m+6);const I=new Oe(a);if(I.getData=(T,A)=>a.getData(T,I,A),B.push(I),m=v,n.onprogress)try{n.onprogress(W+1,_,new Oe(a))}catch{}}return B}async close(){}},l.configure=te,l.getMimeType=function(){return"application/octet-stream"},Object.defineProperty(l,"__esModule",{value:!0})})})(Xt,Xt.exports);var qn=Xt.exports;const Vn=Hn(qn),It=Vn;class $n{constructor(i,l){J(this,"_zipReader");J(this,"_entriesPromise");J(this,"_traceURL");this._traceURL=i,this._zipReader=new It.ZipReader(new It.HttpReader(Kn(i),{mode:"cors",preventHeadRequest:!0}),{useWebWorkers:!1}),this._entriesPromise=this._zipReader.getEntries({onprogress:l}).then(b=>{const g=new Map;for(const E of b)g.set(E.filename,E);return g})}isLive(){return!1}traceURL(){return this._traceURL}async entryNames(){return[...(await this._entriesPromise).keys()]}async hasEntry(i){return(await this._entriesPromise).has(i)}async readText(i){var E;const b=(await this._entriesPromise).get(i);if(!b)return;const g=new It.TextWriter;return await((E=b.getData)==null?void 0:E.call(b,g)),g.getData()}async readBlob(i){const b=(await this._entriesPromise).get(i);if(!b)return;const g=new It.BlobWriter;return await b.getData(g),g.getData()}}class Gn{constructor(i){J(this,"_entriesPromise");J(this,"_traceURL");this._traceURL=i,this._entriesPromise=fetch("/trace/file?path="+encodeURIComponent(i)).then(async l=>{const b=JSON.parse(await l.text()),g=new Map;for(const E of b.entries)g.set(E.name,E.path);return g})}isLive(){return!0}traceURL(){return this._traceURL}async entryNames(){return[...(await this._entriesPromise).keys()]}async hasEntry(i){return(await this._entriesPromise).has(i)}async readText(i){const l=await this._readEntry(i);return l==null?void 0:l.text()}async readBlob(i){const l=await this._readEntry(i);return(l==null?void 0:l.status)===200?await(l==null?void 0:l.blob()):void 0}async _readEntry(i){const b=(await this._entriesPromise).get(i);if(b)return fetch("/trace/file?path="+encodeURIComponent(b))}}function Kn(U){let i=U.startsWith("http")||U.startsWith("blob")?U:`file?path=${encodeURIComponent(U)}`;return i.startsWith("https://www.dropbox.com/")&&(i="https://dl.dropboxusercontent.com/"+i.substring(24)),i}self.addEventListener("install",function(U){self.skipWaiting()});self.addEventListener("activate",function(U){U.waitUntil(self.clients.claim())});const Zn=new URL(self.registration.scope).pathname,mt=new Map,zt=new Map;async function Jn(U,i,l,b){var O;await nn();let g=zt.get(l);g||(g=new Set,zt.set(l,g)),g.add(U);const E=new Bn;try{const[q,$]=Tn(b,[.5,.4,.1]),D=U.endsWith("json")?new Gn(U):new $n(U,q);await E.load(D,$)}catch(q){throw console.error(q),(O=q==null?void 0:q.message)!=null&&O.includes("Cannot find .trace file")&&await E.hasEntry("index.html")?new Error("Could not load trace. Did you upload a Playwright HTML report instead? Make sure to extract the archive first and then double-click the index.html file or put it on a web server."):i?new Error(`Could not load trace from ${i}. Make sure to upload a valid Playwright trace.`):new Error(`Could not load trace from ${U}. Make sure a valid Playwright Trace is accessible over this url.`)}const L=new Dn(E.storage(),q=>E.resourceForSha1(q));return mt.set(U,{traceModel:E,snapshotServer:L}),E}async function Yn(U){const i=U.request,l=await self.clients.get(U.clientId),b=self.registration.scope.startsWith("https://");if(i.url.startsWith(self.registration.scope)){const q=new URL(Yt(i.url)),$=q.pathname.substring(Zn.length-1);if($==="/ping")return await nn(),new Response(null,{status:200});const D=q.searchParams.get("trace");if($==="/contexts")try{const C=await Jn(D,q.searchParams.get("traceFileName"),U.clientId,(H,V)=>{l.postMessage({method:"progress",params:{done:H,total:V}})});return new Response(JSON.stringify(C.contextEntries),{status:200,headers:{"Content-Type":"application/json"}})}catch(C){return new Response(JSON.stringify({error:C==null?void 0:C.message}),{status:500,headers:{"Content-Type":"application/json"}})}if($.startsWith("/snapshotInfo/")){const{snapshotServer:C}=mt.get(D)||{};return C?C.serveSnapshotInfo($,q.searchParams):new Response(null,{status:404})}if($.startsWith("/snapshot/")){const{snapshotServer:C}=mt.get(D)||{};if(!C)return new Response(null,{status:404});const H=C.serveSnapshot($,q.searchParams,q.href);return b&&H.headers.set("Content-Security-Policy","upgrade-insecure-requests"),H}if($.startsWith("/sha1/")){const C=q.searchParams.has("download"),H=$.slice(6);for(const V of mt.values()){const Q=await V.traceModel.resourceForSha1(H);if(Q)return new Response(Q,{status:200,headers:C?Xn(V.traceModel,H):void 0})}return new Response(null,{status:404})}return fetch(U.request)}const g=Yt(l.url),E=new URL(g).searchParams.get("trace"),{snapshotServer:L}=mt.get(E)||{};if(!L)return new Response(null,{status:404});const O=[i.url];return b&&i.url.startsWith("https://")&&O.push(i.url.replace(/^https/,"http")),L.serveResource(O,i.method,g)}function Xn(U,i){const l=U.attachmentForSha1(i);if(!l)return;const b=new Headers;return b.set("Content-Disposition",`attachment; filename="${l.name}"`),l.contentType&&b.set("Content-Type",l.contentType),b}async function nn(){const U=await self.clients.matchAll(),i=new Set;for(const[l,b]of zt)U.find(g=>g.id===l)?b.forEach(g=>i.add(g)):zt.delete(l);for(const l of mt.keys())i.has(l)||mt.delete(l)}self.addEventListener("fetch",function(U){U.respondWith(Yn(U))});
